<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>MCG G10A - 2024 3rd Term Test E-Report</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    /* Color Scheme */
    :root {
      --primary: #45a29e; /* Teal Green */
      --secondary: #6c757d; /* Grayish Blue */
      --accent: #f0ad4e; /* Orange */
      --success: #28a745; /* Green */
      --warning: #ffc107; /* Yellow */
      --info: #17a2b8; /* Cyan */
      --danger: #dc3545; /* Red */
      --light-gray: #f8f9fa;
      --white: #ffffff;
    }
    #rotate-message {
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-family: Arial, sans-serif;
    }
    #rotate-logo {
      width: 24px; /* Adjust the size as needed */
      height: 24px; /* Adjust the size as needed */
      margin-right: 10px; /* Space between the logo and the text */
      animation: rotate 2s linear infinite; /* Rotate animation */
    }
    @keyframes rotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    body {
      background: linear-gradient(135deg, var(--light-gray), #e9ecef);
      color: var(--secondary);
      line-height: 1.6;
      position: relative;
    }
    header {
      text-align: center;
      background: linear-gradient(135deg, var(--primary), #45a29e);
      color: var(--white);
      padding: 2rem 0;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }
    header h1 {
      font-family: 'Montserrat', sans-serif;
      font-size: 2rem;
      color: var(--accent);
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    header p {
      font-size: 1.2rem;
      opacity: 0.9;
    }
    main {
      padding: 2rem 1rem;
      max-width: 1200px;
      margin: 0 auto;
    }
    #search-section {
      text-align: center;
      margin-bottom: 2rem;
    }
    .search-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    #teacher-photo {
      width: 140px;
      height: 170px;
      border-radius: 5%;
      object-fit: cover;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    #admission-number {
      padding: 0.8rem 1.2rem;
      font-size: 1rem;
      width: 100%;
      max-width: 300px;
      border: 2px solid var(--primary);
      border-radius: 25px;
      background: var(--white);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }
    #search-btn {
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      background: linear-gradient(135deg, #f0ad4e, var(--accent));
      color: black;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    #report-section {
      display: none;
    }
    #place-rank{
      color: #dc3545;
    }
    #chart-container {
      background: var(--white);
      padding: 1rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      margin: 1rem 0;
      position: relative;
    }
    #student-info {
      background: var(--white);
      padding: 1rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      margin: 1rem 0;
    }
    .info-card {
      text-align: center;
      padding: 1rem;
      border-radius: 10px;
      background: var(--light-gray);
      border: 2px solid var(--primary);
    }
    .info-card h3 {
      font-size: 1rem;
      color: var(--secondary);
      margin-bottom: 0.5rem;
    }
    .info-card p {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--primary);
    }
    #teacher{
      color: #ffffff;
    }
    .grade-distribution {
      background: var(--white);
      padding: 1rem;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      margin: 1rem 0;
    }
    .grade-distribution h3 {
      font-size: 1.2rem;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    .grade-distribution .badge {
      display: inline-block;
      padding: 0.5rem 1rem;
      margin-right: 0.5rem;
      border-radius: 20px;
      color: black;
      font-weight: bold;
    }
    .grade-distribution .badge.success {
      background-color: var(--success);
    }
    .grade-distribution .badge.warning {
      background-color: var(--warning);
    }
    .grade-distribution .badge.info {
      background-color: var(--info);
    }
    .grade-distribution .badge.accent {
      background-color: var(--accent);
    }
    .grade-distribution .badge.danger {
      background-color: var(--danger);
    }
    .subject-marks {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    
    .subject-marks .badge {
      display: inline-block;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      color: var(--white);
      font-weight: bold;
    }
    .subject-details {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .subject-details .badge {
      display: inline-block;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-weight: bold;
    }
    footer {
      text-align: center;
      padding: 1rem;
      background: var(--white);
      color: var(--secondary);
      margin-top: 2rem;
      box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.1);
    }
    @media (min-width: 768px) {
      header h1 { font-size: 2.5rem; }
      #admission-number { font-size: 1.1rem; }
      #search-btn { font-size: 1.1rem; }
      .info-card { padding: 1.5rem; }
    }
    #rotate-message {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-radius: 20px;
      z-index: 1000;
    }
    #legend {
      position: absolute;
      top: 222px;
      right: 15px;
      background-color: rgba(255, 255, 255, 0.8);
      padding: 5px;
      border-radius: 5px;
      font-size: 0.8rem;
    }
    #legend div {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }
    #legend .color-box {
      width: 15px;
      height: 15px;
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <header>
    <h1>MCG Grade 10A - 2024 3rd Term Test E-Report</h1>
    <p id="teacher">Class Teacher: Mrs. N. Preethi Kumari</p>
  </header>
  <main>
    <section id="search-section">
      <div class="search-container">
        <img src="https://i.ibb.co/t3CJSq0/10A.jpg" id="teacher-photo" alt="Teacher Image">
        <div style="display: flex; flex-direction: column; gap: 1rem;">
          <input type="text" id="admission-number" placeholder="Enter Admission Number...">
          <button id="search-btn">
            <i class="fas fa-chart-line"></i> Generate Report
          </button>
        </div>
        <div id="legend">
          <div><span class="color-box" style="background-color: var(--success);"></span>A (75+)</div>
          <div><span class="color-box" style="background-color: var(--warning);"></span>B (60-74)</div>
          <div><span class="color-box" style="background-color: var(--info);"></span>C (45-59)</div>
          <div><span class="color-box" style="background-color: var(--accent);"></span>W (35-44)</div>
          <div><span class="color-box" style="background-color: var(--danger);"></span>S (Below 35)</div>
        </div>
      </div>
    </section>
    <section id="report-section">
      <div id="chart-container">
        <canvas id="marks-chart"></canvas>
      </div>
      <div id="student-info">
        <div class="info-card">
          <h3><i class="fas fa-user-graduate"></i> Student Name</h3>
          <p id="student-name">-</p>
        </div>
        <div class="info-card">
          <h3><i class="fas fa-trophy"></i> Total Marks</h3>
          <p id="total-marks-display">-</p>
        </div>
        <div class="info-card">
          <h3><i class="fas fa-medal"></i> Current Rank</h3>
          <p id="place-rank">-</p>
        </div>
        <div class="info-card">
          <h3><i class="fas fa-percent"></i> Average Score</h3>
          <p id="average-marks">-</p>
        </div>
      </div>
      <div class="grade-distribution">
        <h3>Grade Distribution</h3>
        <div id="grade-distribution"></div>
      </div>
      <div class="subject-details" id="subject-details"></div>
    </section>
  </main>
  <footer>
    <p>Designed By<a href="https://wa.me/+94768846375">Thisum Jalitha Â©</a></p>
  </footer>
  <div id="rotate-message">
    <img src="https://i.ibb.co/mFTwkmd4/rotate-2313593.png" alt="Rotate Logo" id="rotate-logo">
    Rotate phone for best view
  </div> 
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.0.1"></script>
  <script>
    const studentsData = {
 "6663": {
    "name": "D.W.MININDU PABASARA",
    "place": 12,
    "marks": [78, 90, 70, 74, 87, 88, 96, 60, 82],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6677": {
    "name": "S.SENUL KOVIDA",
    "place": 48,
    "marks": [0, 0, 0, 0, 0, 0, 0, 0, 0],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6687": {
    "name": "M.K.ISARA",
    "place": 27,
    "marks": [63, 75, 45, 41, 92, 76, 62, 65, 55],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6694": {
    "name": "W.G.HELAJITH DINUJAYA",
    "place": 33,
    "marks": [63, 73, 42, 44, 66, 72, 48, 69, 47],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6704": {
    "name": "M.G.AKEN YENSITHA",
    "place": 19,
    "marks": [59, 65, 66, 67, 78, 74, 78, 88, 57],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6712": {
    "name": ".G.SADILA BONUKA",
    "place": 18,
    "marks": [67, 84, 78, 79, 69, 79, 75, 67, 70],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6713": {
    "name": "D.A.N. SHANILKA",
    "place": 48,
    "marks": [0, 0, 0, 0, 0, 0, 0, 0, 0],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6715": {
    "name": "M.H.C. SANDEEPA",
    "place": 23,
    "marks": [59, 91, 48, 66, 82, 86, 51, 73, 37],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6721": {
    "name": "B.H.SETHIKA DINSARA",
    "place": 38,
    "marks": [54, 42, 43, 46, 51, 73, 47, 77, 56],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6740": {
    "name": "O. THIYON HELIKA",
    "place": 46,
    "marks": [40, 0, 42, 0, 0, 49, 32, 15, 0],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6744": {
    "name": "B.BINUKA CHAMEESHA",
    "place": 30,
    "marks": [61, 90, 50, 38, 61, 63, 72, 41, 59],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6747": {
    "name": "K.B.O.T. SANKALANA",
    "place": 35,
    "marks": [66, 68, 32, 50, 65, 68, 42, 68, 39],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6748": {
    "name": "W.H. BIMAN BASILU",
    "place": 28,
    "marks": [46, 82, 65, 51, 86, 59, 66, 47, 67],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6751": {
    "name": "D.H.K.A. PRASANJANA",
    "place": 41,
    "marks": [37, 44, 42, 16, 43, 66, 49, 48, 41],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6752": {
    "name": "H.G.CHAMINDU RANDIKA",
    "place": 26,
    "marks": [54, 82, 52, 22, 70, 78, 87, 66, 73],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6754": {
    "name": "P. HIRUN MINDEEPA",
    "place": 21,
    "marks": [65, 77, 60, 55, 67, 72, 77, 65, 78],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6768": {
    "name": "A.A.S. DINSARA",
    "place": 29,
    "marks": [56, 67, 45, 47, 61, 73, 61, 75, 62],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6771": {
    "name": "K.B.MATHEESHA NIMSARA",
    "place": 40,
    "marks": [47, 55, 45, 13, 54, 59, 50, 59, 38],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6783": {
    "name": "G.W.THERES DE SILVA",
    "place": 10,
    "marks": [63, 83, 93, 91, 69, 70, 97, 75, 88],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6791": {
    "name": "G.W.S.H.D. SAHASPATHI",
    "place": 20,
    "marks": [66, 82, 57, 74, 82, 64, 63, 66, 72],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6795": {
    "name": "A.G.S.NISAYURU",
    "place": 39,
    "marks": [44, 56, 39, 26, 64, 55, 41, 57, 41],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6801": {
    "name": "D.LITHUM AMBEPITIYA",
    "place": 32,
    "marks": [65, 66, 56, 36, 68, 61, 55, 69, 52],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6811": {
    "name": "K.K.I.NISAL NEMSITHA",
    "place": 48,
    "marks": [0, 0, 0, 0, 0, 0, 0, 0, 0],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6815": {
    "name": "K.K.G.M. MAHEESHA",
    "place": 36,
    "marks": [60, 53, 58, 56, 64, 0, 68, 75, 62],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6817": {
    "name": "Y. THIYON PERAMUNAGE",
    "place": 44,
    "marks": [37, 30, 54, 10, 42, 61, 51, 12, 43],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6820": {
    "name": "D.A.LAKDILU HANSITHA",
    "place": 6,
    "marks": [85, 98, 83, 72, 89, 92, 96, 75, 87],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6827": {
    "name": "H. S. NIMSARA THILAKARATHNA",
    "place": 42,
    "marks": [58, 20, 49, 17, 37, 47, 52, 7, 58],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6829": {
    "name": "H.USHAN MADUSHANKA DE SOYSA",
    "place": 43,
    "marks": [28, 50, 50, 10, 25, 53, 52, 7, 69],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6853": {
    "name": "A. NETHSARA CHITHHAN",
    "place": 24,
    "marks": [66, 78, 57, 53, 51, 78, 88, 46, 75],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6842": {
    "name": "T.A. VIDUSUN NETHSARA",
    "place": 5,
    "marks": [89, 99, 84, 82, 75, 93, 84, 96, 82],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6843": {
    "name": "P.H.U.HASARA",
    "place": 37,
    "marks": [62, 50, 64, 55, 27, 67, 53, 52, 62],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6851": {
    "name": "K.P.T. DINSATH",
    "place": 31,
    "marks": [56, 79, 66, 32, 43, 68, 74, 67, 44],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"6854": {
    "name": "M.S. SACHITHYA",
    "place": 4,
    "marks": [81, 95, 93, 89, 79, 92, 90, 75, 93],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"895": {
    "name": "V.A.A.P. BIHARA",
    "place": 9,
    "marks": [78, 92, 76, 91, 81, 89, 88, 58, 83],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"8955": {
    "name": "M.H.I. DEWDUNU",
    "place": 15,
    "marks": [78, 92, 76, 83, 56, 87, 85, 75, 82],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"8975": {
    "name": "D. MALEESHA NETHSARA",
    "place": 2,
    "marks": [87, 96, 83, 90, 89, 96, 91, 97, 82],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"8988": {
    "name": "W.M.S.S. DAHAMPATH",
    "place": 3,
    "marks": [86, 97, 91, 84, 72, 90, 95, 90, 88],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"8990": {
    "name": "G.H.A. AKASH DENUWAN",
    "place": 34,
    "marks": [55, 67, 50, 61, 51, 61, 62, 49, 63],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"8995": {
    "name": "P.O.GANIDU RASHMIKA",
    "place": 22,
    "marks": [69, 75, 67, 55, 55, 91, 29, 89, 81],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"8996": {
    "name": "D.D.GANGUL RANDIMA",
    "place": 17,
    "marks": [70, 92, 79, 59, 82, 61, 95, 46, 87],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9005": {
    "name": "L.A.K. DILSHAN",
    "place": 13,
    "marks": [78, 94, 73, 70, 80, 80, 97, 70, 80],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9009": {
    "name": "E.D.S. MOSHITHA",
    "place": 14,
    "marks": [83, 88, 83, 59, 81, 86, 88, 89, 60],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9011": {
    "name": "H.T.T.NETHSARA",
    "place": 7,
    "marks": [79, 97, 85, 95, 74, 93, 92, 70, 87],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9018": {
    "name": "H.A. MANARAM THATHSARA",
    "place": 8,
    "marks": [89, 79, 75, 75, 78, 95, 78, 90, 78],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9238": {
    "name": "W.A.K. NAVEEN NIMSARA",
    "place": 16,
    "marks": [69, 74, 62, 69, 75, 93, 83, 73, 84],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9259": {
    "name": "M.D.H.V. PRIYASARDHANA",
    "place": 10,
    "marks": [75, 76, 71, 81, 79, 90, 80, 91, 86],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9327": {
    "name": "J. RUVIDU HANSANA",
    "place": 1,
    "marks": [90, 98, 95, 93, 92, 98, 96, 98, 88],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"9500": {
    "name": "M.H. KESARA BUDDHIMAL",
    "place": 45,
    "marks": [56, 34, 0, 8, 53, 0, 25, 32, 41],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"10322": {
    "name": "W.H. UDESH AMASHA",
    "place": 47,
    "marks": [0, 0, 22, 0, 0, 0, 18, 0, 0],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
},
"11543": {
    "name": "D.R.Methuja Dahanayaka",
    "place": 25,
    "marks": [75, 65, 52, 41, 60, 85, 67, 69, 76],
    "subjects": ["Sinhala", "Religion", "Science", "Maths", "English", "History", "OPT 1", "OPT 2", "OPT 3"]
}
  // Add more student information here...
};

    document.getElementById("search-btn").addEventListener("click", searchStudent);
    document.getElementById("admission-number").addEventListener("keypress", (e) => {
      if (e.key === "Enter") searchStudent();
    });

    function searchStudent() {
      const admissionNumber = document.getElementById("admission-number").value;
      const student = studentsData[admissionNumber];
      if (student) {
        const totalMarks = student.marks.reduce((a, b) => a + b, 0);
        const averageMarks = (totalMarks / student.marks.length).toFixed(2);
        const totalStudents = Object.keys(studentsData).length;
        document.getElementById("student-name").textContent = student.name;
        document.getElementById("total-marks-display").textContent = totalMarks;
        document.getElementById("place-rank").textContent = `#${student.place} (out of ${totalStudents})`;
        document.getElementById("average-marks").textContent = `${averageMarks}%`;
        initChart(student);
        updateGradeDistribution(student);
        updateSubjectDetails(student);
        document.getElementById("report-section").style.display = "block";
      } else {
        alert("Student not found! Please check admission number.");
      }
    }

    function initChart(student) {
          const ctx = document.getElementById('marks-chart').getContext('2d');
          const isMobile = window.innerWidth <= 768;

          // Retrieve CSS variables properly
          const styles = getComputedStyle(document.documentElement);
          const successColor = styles.getPropertyValue('--success').trim();
          const warningColor = styles.getPropertyValue('--warning').trim();
          const infoColor = styles.getPropertyValue('--info').trim();
          const accentColor = styles.getPropertyValue('--accent').trim();
          const dangerColor = styles.getPropertyValue('--danger').trim();

          if (window.myChart) window.myChart.destroy();
          window.myChart = new Chart(ctx, {
            type: 'bar',
            data: {
              labels: student.subjects.map((subject, index) => `${subject} (${student.marks[index]})`),
              datasets: [{
                data: student.marks,
                backgroundColor: student.marks.map(m => 
                  m >= 75 ? successColor : 
                  m >= 60 ? warningColor : 
                  m >= 45 ? infoColor : 
                  m >= 35 ? accentColor : dangerColor
                ),
                borderColor: '#2c3e50',
                borderWidth: 2,
                borderRadius: 5
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              scales: {
                y: {
                  beginAtZero: true,
                  max: 100,
                  grid: { color: '#dfe6e9' },
                  ticks: { color: '#2c3e50', font: { size: isMobile ? 12 : 14 } }
                },
                x: {
                  grid: { display: false },
                  ticks: {
                    color: '#2c3e50',
                    font: { size: isMobile ? 10 : 12 },
                    autoSkip: false,
                    maxRotation: isMobile ? 90 : 0,
                    minRotation: isMobile ? 90 : 0
                  }
                }
              },
              plugins: {
                legend: { display: false },
                annotation: {
                  annotations: {
                    passLine: {
                      type: 'line',
                      yMin: 35,
                      yMax: 35,
                      borderColor: '#e74c3c',
                      borderWidth: 3,
                      borderDash: [5, 3],
                      label: {
                        content: 'Pass (35)',
                        display: true,
                        position: 'end',
                        backgroundColor: '#e74c3c',
                        color: 'white'
                      }
                    },
                    distinctionLine: {
                      type: 'line',
                      yMin: 75,
                      yMax: 75,
                      borderColor: '#FFD700',
                      borderWidth: 3,
                      borderDash: [5, 3],
                      label: {
                        content: 'Distinction (75)',
                        display: true,
                        position: 'end',
                        backgroundColor: '#FFD700',
                        color: '#2c3e50'
                      }
                    }
                  }
                }
              }
            }
          });
        }

        function updateGradeDistribution(student) {
          const gradeCounts = { A: 0, B: 0, C: 0, W: 0, S: 0 };
          student.marks.forEach(mark => {
            if (mark >= 75) gradeCounts.A++;
            else if (mark >= 60) gradeCounts.B++;
            else if (mark >= 45) gradeCounts.C++;
            else if (mark >= 35) gradeCounts.W++;
            else gradeCounts.S++;
          });
          const gradeDistributionDiv = document.getElementById("grade-distribution");
          gradeDistributionDiv.innerHTML = `
            ${gradeCounts.A > 0 ? `<span class="badge success">A: ${gradeCounts.A}</span>` : ''}
            ${gradeCounts.B > 0 ? `<span class="badge warning">B: ${gradeCounts.B}</span>` : ''}
            ${gradeCounts.C > 0 ? `<span class="badge info">C: ${gradeCounts.C}</span>` : ''}
            ${gradeCounts.W > 0 ? `<span class="badge accent">W: ${gradeCounts.W}</span>` : ''}
            ${gradeCounts.S > 0 ? `<span class="badge danger">S: ${gradeCounts.S}</span>` : ''}
          `;
        }

        function updateSubjectDetails(student) {
          const subjectDetailsDiv = document.getElementById("subject-details");
          subjectDetailsDiv.innerHTML = "";
          student.marks.forEach((mark, index) => {
            let badgeClass = '';
            if (mark >= 75) badgeClass = 'success';
            else if (mark >= 60) badgeClass = 'warning';
            else if (mark >= 45) badgeClass = 'info';
            else if (mark >= 35) badgeClass = 'accent';
            else badgeClass = 'danger';
            const subjectBadge = document.createElement("span");
            subjectBadge.className = `badge ${badgeClass}`;
            subjectBadge.textContent = `${student.subjects[index]}: ${mark}`;
            subjectDetailsDiv.appendChild(subjectBadge);
          });
        }
      </script>
    </body>
</html>